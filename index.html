<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Juego de Cartas VS</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; background: #111; color: white; }
    .contenedor { display: flex; flex-wrap: wrap; justify-content: center; margin-top: 20px; }
    .carta { border: 2px solid #fff; margin: 10px; padding: 10px; width: 150px; background: #222; cursor: pointer; }
    .carta img { width: 100px; height: 100px; }
    .versus { font-size: 48px; margin: 20px 0; }
    .resultado { font-size: 24px; margin-top: 20px; }
    button { padding: 10px 20px; margin: 10px; font-size: 18px; cursor: pointer; }
  </style>
</head>
<body>
  <h1>Selecciona tus 5 cartas</h1>
  <div id="seleccion" class="contenedor"></div>
  <button onclick="iniciarBatalla()" id="btnIniciar" disabled>Iniciar Combate</button>
  <div id="combate" style="display:none">
    <div class="contenedor">
      <div id="jugadorCarta" class="carta"></div>
      <div class="versus">VS</div>
      <div id="cpuCarta" class="carta"></div>
    </div>
    <div class="resultado" id="resultado"></div>
    <button onclick="siguienteRonda()">Siguiente Ronda</button>
  </div>

  <script>
    const personajes = [
      { nombre: "John Cena", ataque: 90, defensa: 80, imagen: "https://www.kindpng.com/picc/m/36-369716_john-cena-clipart-animated-john-cena-cartoon-png.png" },
      { nombre: "Dr. Simi", ataque: 65, defensa: 95, imagen: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRvsWlM_-L_KvapF1G6EemU74xESV6iT1qVew&s" },
      { nombre: "La Roca", ataque: 95, defensa: 80, imagen: "https://image-cdn.essentiallysports.com/wp-content/uploads/The-Rock-Dwayne-Johnson-1.png" },
      { nombre: "Chabelo", ataque: 30, defensa: 100, imagen: "https://phantom-marca-mx.unidadeditorial.es/1c9cfde33650a22f724f9bcc92732dc8/resize/660/f/webp/mx/assets/multimedia/imagenes/2023/03/25/16797610129495.jpg" },
      { nombre: "Capitán América", ataque: 85, defensa: 95, imagen: "https://www.pngitem.com/middle/JbTiJi_minions-png-minion-captain-america-png-transparent-png/" },
      { nombre: "Shrek", ataque: 70, defensa: 50, imagen: "https://pbs.twimg.com/media/F2al76HXIAAECsx.jpg" },
      { nombre: "Goku", ataque: 100, defensa: 90, imagen: "https://pbs.twimg.com/media/GtBWdtZXwAAqC0B?format=png&name=4096x4096" },
      { nombre: "Spiderman", ataque: 80, defensa: 85, imagen: "https://i.imgur.com/Vxg7VEz.png" },
      { nombre: "Julio Regalado", ataque: 80, defensa: 85, imagen: "https://i.imgur.com/W7J5pJz.png" },
      { nombre: "Deadpool", ataque: 85, defensa: 70, imagen: "https://i.imgur.com/nUI2NEO.png" },
      { nombre: "Iron Man", ataque: 90, defensa: 85, imagen: "https://i.imgur.com/tZ9hzo0.png" },
      { nombre: "Thor", ataque: 95, defensa: 90, imagen: "https://i.imgur.com/1RJoNiB.png" },
      { nombre: "MAMA LUCHA", ataque: 100, defensa: 80, imagen: "https://i.imgur.com/fmKS0gA.png" },
      { nombre: "Wonder Woman", ataque: 75, defensa: 70, imagen: "https://i.imgur.com/fqMZwYy.png" },
      { nombre: "Santa CLous", ataque: 80, defensa: 75, imagen: "https://i.imgur.com/ZZxGY2W.png" },
      { nombre: "Chuponcito", ataque: 85, defensa: 80, imagen: "https://i.imgur.com/lv4cX2c.png" },
      { nombre: "Gerry", ataque: 70, defensa: 55, imagen: "https://i.imgur.com/ZmV7x0n.png" },
      { nombre: "Canelo", ataque: 75, defensa: 80, imagen: "https://i.imgur.com/k6UZ1Fx.png" },
      { nombre: "Green Lantern", ataque: 58, defensa: 55, imagen: "https://i.imgur.com/1iVvxQn.png" },
      { nombre: "Captain Marvel", ataque: 80, defensa: 75, imagen: "https://i.imgur.com/7pSZtC6.png" }
    ];

    let seleccionadasJugador = [];
    let seleccionadasCPU = [];
    let ronda = 0;

    const seleccionDiv = document.getElementById("seleccion");
    personajes.forEach((p, i) => {
      const carta = document.createElement("div");
      carta.className = "carta";
      carta.innerHTML = `<img src="${p.imagen}"><br>${p.nombre}<br>Ataque: ${p.ataque}<br>Defensa: ${p.defensa}`;
      carta.onclick = () => seleccionarCarta(i, carta);
      seleccionDiv.appendChild(carta);
    });

    function seleccionarCarta(index, cartaElemento) {
      if (seleccionadasJugador.length < 5 && !seleccionadasJugador.includes(index)) {
        seleccionadasJugador.push(index);
        cartaElemento.style.border = "3px solid lime";
      }
      if (seleccionadasJugador.length === 5) {
        document.getElementById("btnIniciar").disabled = false;
      }
    }

    function iniciarBatalla() {
      while (seleccionadasCPU.length < 5) {
        const random = Math.floor(Math.random() * personajes.length);
        if (!seleccionadasJugador.includes(random) && !seleccionadasCPU.includes(random)) {
          seleccionadasCPU.push(random);
        }
      }
      document.getElementById("seleccion").style.display = "none";
      document.getElementById("btnIniciar").style.display = "none";
      document.getElementById("combate").style.display = "block";
      mostrarRonda();
    }

    function mostrarRonda() {
      const p1 = personajes[seleccionadasJugador[ronda]];
      const p2 = personajes[seleccionadasCPU[ronda]];

      document.getElementById("jugadorCarta").innerHTML = `<img src="${p1.imagen}"><br>${p1.nombre}<br>Ataque: ${p1.ataque}<br>Defensa: ${p1.defensa}`;
      document.getElementById("cpuCarta").innerHTML = `<img src="${p2.imagen}"><br>${p2.nombre}<br>Ataque: ${p2.ataque}<br>Defensa: ${p2.defensa}`;

      const resultado = (p1.ataque - p2.defensa) + (p1.defensa - p2.ataque);
      let texto = "Empate";
      if (resultado > 0) texto = "¡Gana Jugador!";
      else if (resultado < 0) texto = "¡Gana CPU!";

      document.getElementById("resultado").innerText = texto;
    }

    function siguienteRonda() {
      ronda++;
      if (ronda < 5) {
        mostrarRonda();
      } else {
        document.getElementById("resultado").innerText += "\n¡Combate Finalizado!";
      }
    }
  </script>
</body>
</html>
